#!/bin/bash
#
# download emissions accounts by industry (html tables)
#

year_files()
{
    case "$1" in
        1999)
            echo "t20031230_402371613 t20031230_402371614 t20031230_402371690 "\
                 "t20031230_402371691 t20031230_402371692 t20031230_402371693 "\
                 "t20031230_402371694 t20031230_402371695 t20031230_402371696"
            ;;

         2003)
            echo "t20050706_402261047 t20050706_402261052 t20050706_402261053 "\
                 "t20050706_402261075 t20050706_402261076 t20050706_402261099"
            ;;

         2004)
            echo "t20061212_402372049 t20061212_402372051 t20061212_402372053 "\
                 "t20061212_402372054 t20061212_402372055 t20061212_402372158 "\
                 "t20061212_402372160 t20061212_402372161 t20061212_402372182 "\
                 "t20061212_402372183 t20061212_402372184"
            ;;

         2005)
            echo "t20061205_402369739 t20061205_402369883 t20061206_402370024 "\
                 "t20061206_402370038"
            ;;

         2006)
            echo "t20071210_402453002 t20071210_402453006 t20071210_402453007 "\
                 "t20071210_402453008 t20071210_402453009 t20071210_402453010 "\
                 "t20071210_402453011 t20071210_402453012 t20071210_402453013 "\
                 "t20071210_402453014 t20071210_402453028 t20071210_402453029 "\
                 "t20071210_402453030 t20071210_402453031 t20071210_402453032 "\
                 "t20071210_402453033 t20071210_402453034 t20071210_402453035 "\
                 "t20071211_402453041 t20071212_402453042 t20071212_402453043 "\
                 "t20071212_402453044 t20071212_402453045 t20071212_402453046"
            ;;

         2007)
            echo "t20081204_402525298 t20081204_402525299 t20081204_402525300 "\
                 "t20081204_402525301 t20081204_402525302 t20081204_402525303 "\
                 "t20081204_402525304 t20081204_402525305 t20081204_402525306 "\
                 "t20081204_402525307 t20081205_402525324 t20081205_402525325 "\
                 "t20081205_402525326 t20081205_402525327 t20081205_402525328 "\
                 "t20081205_402525329 t20081205_402525330 t20081205_402525331 "\
                 "t20081205_402525339 t20081205_402525340 t20081205_402525341 "\
                 "t20081205_402525342 t20081205_402525343 t20081205_402525344"
            ;;

         2008)
            echo "t20100611_402649414 t20100611_402649415 t20100611_402649417 "\
                 "t20100611_402649419 t20100611_402649424 t20100611_402649426 "\
                 "t20100612_402649521 t20100612_402649522 t20100613_402650055 "\
                 "t20100613_402650059"
            ;;

         2009)
            echo "t20101130_402686859 t20101130_402686860 t20101130_402686861 "\
                 "t20101130_402686862 t20101130_402686863 t20101130_402686880 "\
                 "t20101130_402686882 t20101130_402686890 t20101130_402686891 "\
                 "t20101130_402686892 t20101201_402687118 t20101201_402687119 "\
                 "t20101201_402687122 t20101201_402687133 t20101201_402687135 "\
                 "t20101201_402687136 t20101201_402687139 t20101201_402687140 "\
                 "t20101202_402687245 t20101202_402687247 t20101202_402687249 "\
                 "t20101202_402687250 t20101202_402687251 t20101202_402687252"
            ;;

         2010)
            echo "t20111227_402788750 t20111227_402788751 t20111227_402788752 "\
                 "t20111227_402788753 t20111227_402788762 t20111227_402788763 "\
                 "t20111227_402788764 t20111226_402788725 t20111226_402788726 "\
                 "t20111226_402788727 t20111226_402788728 t20111226_402788729"
            ;;
    esac
}

SCRIPTDIR=`dirname $0`
. "$SCRIPTDIR/include.sh"

cd "${CACHE_DIR}"

stat_dir="${CACHE_DIR}/cn"
[ -d "$stat_dir" ] || mkdir -p "$stat_dir"

# tjsj=統計數據 qtsj=專題數據 hjtjzl=環境統計資料
base_url="http://www.stats.gov.cn/tjsj/qtsj/hjtjzl"

years="1999 2003 2004 2005 2006 2007 2008 2009 2010"

for year in $years; do
    year_url="${base_url}/hjtjsj${year}"
    year_dir="$stat_dir/$year"
    [ -d "$year_dir" ] || mkdir "$year_dir"
    cd "$year_dir"

    files=`year_files $year`
    for file in $files; do
        htmFile="$file.htm"
        [ -f "$htmFile" ] || wget "$year_url/$htmFile"
    done
done

cd "$SCRIPTDIR"
